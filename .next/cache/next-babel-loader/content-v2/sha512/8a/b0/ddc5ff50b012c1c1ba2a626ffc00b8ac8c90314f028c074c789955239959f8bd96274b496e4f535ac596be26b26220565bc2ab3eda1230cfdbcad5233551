{"ast":null,"code":"import axios from \"axios\";\n\nconst getLatestRepos = async (data, token) => {\n  // console.log(\"data\", data);\n  try {\n    const username = data.githubUsername; // let token = `token ${process.env.GITHUB_AUTH_TOKEN}`;\n    // console.log(\"TOKEN\", token);\n\n    if (token) {\n      const res = await axios.get(`https://api.github.com/search/repositories?q=user:${username}+sort:author-date-asc`, {\n        headers: {\n          Authorization: `token ${token}`\n        }\n      });\n      let repos = res.data.items;\n      let latestSixRepos = repos.splice(0, 6); // console.log(\"LATEST 6 repos\", latestSixRepos);\n\n      return latestSixRepos;\n    } else {\n      const res = await axios.get(`https://api.github.com/search/repositories?q=user:${username}+sort:author-date-asc`);\n      let repos = res.data.items;\n      let latestSixRepos = repos.splice(0, 6);\n      return latestSixRepos;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport default getLatestRepos;","map":{"version":3,"sources":["/home/r3zn0r/projects/personal/portfolio/lib/getLatestRepos.js"],"names":["axios","getLatestRepos","data","token","username","githubUsername","res","get","headers","Authorization","repos","items","latestSixRepos","splice","err","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,cAAc,GAAG,OAAOC,IAAP,EAAaC,KAAb,KAAuB;AAC5C;AACA,MAAI;AACF,UAAMC,QAAQ,GAAGF,IAAI,CAACG,cAAtB,CADE,CAGF;AACA;;AAEA,QAAIF,KAAJ,EAAW;AACT,YAAMG,GAAG,GAAG,MAAMN,KAAK,CAACO,GAAN,CACf,qDAAoDH,QAAS,uBAD9C,EAEhB;AACEI,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,SAAQN,KAAM;AADvB;AADX,OAFgB,CAAlB;AAQA,UAAIO,KAAK,GAAGJ,GAAG,CAACJ,IAAJ,CAASS,KAArB;AACA,UAAIC,cAAc,GAAGF,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAArB,CAVS,CAWT;;AACA,aAAOD,cAAP;AACD,KAbD,MAaO;AACL,YAAMN,GAAG,GAAG,MAAMN,KAAK,CAACO,GAAN,CACf,qDAAoDH,QAAS,uBAD9C,CAAlB;AAGA,UAAIM,KAAK,GAAGJ,GAAG,CAACJ,IAAJ,CAASS,KAArB;AACA,UAAIC,cAAc,GAAGF,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAArB;AACA,aAAOD,cAAP;AACD;AACF,GA3BD,CA2BE,OAAOE,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CAhCD;;AAkCA,eAAeb,cAAf","sourcesContent":["import axios from \"axios\";\n\nconst getLatestRepos = async (data, token) => {\n  // console.log(\"data\", data);\n  try {\n    const username = data.githubUsername;\n\n    // let token = `token ${process.env.GITHUB_AUTH_TOKEN}`;\n    // console.log(\"TOKEN\", token);\n\n    if (token) {\n      const res = await axios.get(\n        `https://api.github.com/search/repositories?q=user:${username}+sort:author-date-asc`,\n        {\n          headers: {\n            Authorization: `token ${token}`,\n          },\n        }\n      );\n      let repos = res.data.items;\n      let latestSixRepos = repos.splice(0, 6);\n      // console.log(\"LATEST 6 repos\", latestSixRepos);\n      return latestSixRepos;\n    } else {\n      const res = await axios.get(\n        `https://api.github.com/search/repositories?q=user:${username}+sort:author-date-asc`\n      );\n      let repos = res.data.items;\n      let latestSixRepos = repos.splice(0, 6);\n      return latestSixRepos;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport default getLatestRepos;\n"]},"metadata":{},"sourceType":"module"}