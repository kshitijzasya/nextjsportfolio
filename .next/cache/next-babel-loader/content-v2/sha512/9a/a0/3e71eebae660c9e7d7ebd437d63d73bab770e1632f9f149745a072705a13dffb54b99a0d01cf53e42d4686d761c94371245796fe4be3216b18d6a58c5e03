{"ast":null,"code":"import axios from \"axios\";\n\nconst getLatestRepos = async (data, token) => {\n  // console.log(\"data\", data);\n  try {\n    const username = data.githubUsername; // let token = `token ${process.env.GITHUB_AUTH_TOKEN}`;\n    // console.log(\"TOKEN\", token);\n\n    if (token) {\n      const res = await axios.get(`https://api.github.com/search/repositories?q=user:${username}+sort:author-date-asc`, {\n        headers: {\n          Authorization: `token ${token}`\n        }\n      });\n      let repos = res.data.items;\n      let latestSixRepos = repos.splice(0, 6); // console.log(\"LATEST 6 repos\", latestSixRepos);\n\n      return latestSixRepos;\n    } else {\n      const res = await axios.get(`https://api.github.com/search/repositories?q=user:${username}+sort:author-date-asc`);\n      let repos = res.data.items;\n      let latestSixRepos = repos.splice(0, 6);\n      return latestSixRepos;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport default getLatestRepos;","map":null,"metadata":{},"sourceType":"module"}